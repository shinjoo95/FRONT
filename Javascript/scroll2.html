<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="scroll.css" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <span class="navbar-brand">Navbar</span>
          <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon"></span>
          </button>
        </nav> 
    <!-- 회원약관을 다 읽었을 시 알림창 띄우기 -->
    <div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll"> 
        Lorem ipsum dolor sit amet, consectetur adipisicing elit.
         Quae voluptas voluptatum minus praesentium fugit debitis at, 
         laborum ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis, 
         eligendi quae consectetur praesentium exercitationem.
      </div> 
      <div style="height: 1000px"></div>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js" 
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
      <script>

        //div의 스크롤바 내린 양 + 눈에 보이는 div 박스 높이(스크롤바 높이) == div의 실제 높이 ----> alert 띄우기 
        //오차가 발생할 수 있어서 몇 px 정도 여유를 두고 하는 게 좋음 
        $('.lorem').on('scroll',function(){
            var 스크롤양 = document.querySelector('.lorem').scrollTop;      //<div> 스크롤바 내린 높이는 셀렉터.scrollTop
            var 실제높이 = document.querySelector('.lorem').scrollHeight;   //<div> 실제 높이는 셀렉터.scrollHeight
            var 높이 = document.querySelector('.lorem').clientHeight;      //눈에 보이는 div 박스 높이
            //박스 끝까지 스크롤바 내리면 alert 띄우기 
            //스크롤양 + 높이 > 실제높이  여유있게 설정하는 게 좋음 
            //scroll 이벤트리스너 안의 코드는 1초에 60번 이상 실행됨 -> 바닥체크도 여러번 중복으로 함 (alert 여러번 실행 됨)
            if(스크롤양 + 높이 > 실제높이 - 10 ){
                alert('다읽음')
            }
        })
        //현재 페이지 끝까지 스크롤 체크
        document.querySelector('html').scrollHeight  //현재 페이지 실제높이, 페이지 로드 완료시 실행해야 정확 <body>끝나기 전에 입력
        document.querySelector('html').scrollHeight  //페이지 보이는 부분 높이
        window.scrollY  //현재 페이지 스크롤 양

        //page 스크롤바 100이상 내리면 로고 폰트사이즈 줄여주세요
       
       $(window).on('scroll', function(){                   //스크롤바를 움직일 때마다 실행해야됨
        if(window.scrollY > 100){                       
            $('.navbar-brand').css('font-size', '20px');
        } else{
            $('.navbar-brand').css('font-size', '25px');
        }
        })

        // 1. 스크롤바 조작할 때마다 코드실행이 가능
        // 2. 박스의 실제 높이 / 보이는 높이를 구할 수 있음
        // 3. 스크롤 양도 구할 수 있음 
        </script>
</body>
</html>